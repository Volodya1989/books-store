!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=e.parcelRequired7c6;null==i&&((i=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var i={id:t,exports:{}};return n[t]=i,e.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},e.parcelRequired7c6=i),i("b3EoS"),i("3PD8C"),i("6VMVE"),i("ekC86");var o=i("eUV6u"),l=i("4WFAO"),c=i("b3EoS");i("6JpON");var s=document.querySelector(".category-list"),r=document.querySelector(".load");(0,o.fetchAllCategories)().then((function(t){var e=t.map((function(t){var e=t.list_name;return'<li class="category-list-item global-list light-theme theme-switch">'.concat(e,"</li>")})).join("");s.insertAdjacentHTML("beforeend",e);var n=document.querySelectorAll(".category-list-item");n.forEach((function(t){t.addEventListener("click",(function(){n.forEach((function(t){return t.classList.remove("active")})),this.classList.add("active")}))})),"light"===l.shopping_info.theme?(0,c.renderTheme)("light"):(0,c.renderTheme)("dark"),r.classList.add("unvisible")})).catch((function(t){console.log(t)})),i("eUV6u"),i("hDfHX"),i("eUV6u");var d=i("bpxeT"),u=i("2TvXO"),h=(o=i("eUV6u"),i("6VMVE"));l=i("4WFAO"),c=i("b3EoS");var b=document.querySelector(".category-list"),p=document.querySelector(".tb-container"),g=document.querySelector(".heading-primary"),f=document.querySelector("#allctgr"),m=document.querySelector(".loader");function v(){return(v=t(d)(t(u).mark((function e(n){var a,i,l,c,s,r,d,h;return t(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p.innerHTML="",m.classList.remove("is-hidden"),a=n.target.textContent,i=f.textContent,a!==i){t.next=8;break}p.innerHTML="",(0,o.fetchTopBooks)().then(x),c=(l="Best Sellers Books").split(" ").splice(0,l.split(" ").length-1).join(" "),s=l.split(" ")[l.split(" ").length-1],g.innerHTML="".concat(c,' <span class="colored-heading">').concat(s,"</span>"),t.next=18;break;case 8:return r=a.split(" ").splice(0,a.split(" ").length-1).join(" "),d=a.split(" ")[a.split(" ").length-1],g.innerHTML="".concat(r,' <span class="colored-heading">').concat(d,"</span>"),g.classList.add("ctg-maintitle"),p.classList.add("flex-container"),t.next=15,(0,o.fetchBooksByExactCategory)(a);case 15:h=t.sent,m.classList.add("is-hidden"),k(h);case 18:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function k(t){var e=t.data;p.innerHTML="";var n=e.map((function(t){t.list_name;var e=t.book_image,n=void 0===e?"https://bookcart.azurewebsites.net/Upload/Default_image.jpg":e,a=t.title,i=void 0===a?"title not available":a,o=t.author,l=void 0===o?"anonymous":o,c=(t.description,t._id);return'\n          <li class="flex-container-item">\n            <a href=# class="global-link" data-id="'.concat(c,'">\n              <div class="tb-book-card">\n                <img class="tb-book-img img" src="').concat(n,'" alt="').concat(i,'" loading="lazy">\n                <p class="tb-book-title light-theme theme-switch global-p">').concat(i,'</p>\n                <p class="tb-book-author global-p">').concat(l,"</p>\n              </div>\n            </a>\n          </li>")})).join("");p.innerHTML=n}m.classList.add("is-hidden"),b.addEventListener("click",(function(t){return v.apply(this,arguments)})),setTimeout((function(t){m.classList.add("is-hidden")}),2500);var y=document.querySelector(".no-books-card");function x(t){var e=t.data;if(0==e.length)y.classList.remove("is-hidden");else{var n=e.map((function(t){var e=t.list_name,n=t.books.map((function(t){t.list_name;var e=t.book_image,n=void 0===e?"https://bookcart.azurewebsites.net/Upload/Default_image.jpg":e,a=t.title,i=void 0===a?"title not available":a,o=t.author,l=void 0===o?"anonymous":o,c=(t.description,t._id);return'\n          <li class="flex-container-item">\n            <a href=# class="global-link" data-id="'.concat(c,'">\n              <div class="tb-book-card">\n                <img class="tb-book-img img" src="').concat(n,'" alt="').concat(i,'" loading="lazy">\n                <p class="tb-book-title light-theme theme-switch global-p">').concat(i,'</p>\n                <p class="tb-book-author global-p">').concat(l,"</p>\n              </div>\n            </a>\n          </li>\n          ")})).join("");return"\n      <li class=\"tb-category-container\">\n        <h2 class='tb-category global-title'>".concat(e,"</h2>\n        <div class='tb-books-container'>\n          <ul class=\"global-list flex-container hidden-books\">\n            ").concat(n,'\n          </ul>\n        </div>\n        <button class="tb-button global-button light-theme theme-switch">See more</button>\n      </li>\n      ')})).join("");m.classList.add("is-hidden"),p.insertAdjacentHTML("beforeend",n),"light"===l.shopping_info.theme?(0,c.renderTheme)("light"):(0,c.renderTheme)("dark"),(0,h.modalWindow)()}}function L(){return(L=t(d)(t(u).mark((function e(n){var a,i;return t(u).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.target.matches("button")){t.next=9;break}return a=n.target.closest(".tb-category-container").firstChild.nextSibling.textContent,i=n.target.closest(".tb-category-container").firstChild.nextSibling.nextSibling.nextSibling,t.next=5,(0,o.fetchBooksByExactCategory)(a);case 5:T(t.sent,i),n.target.classList.add("is-hidden"),m.classList.add("is-hidden");case 9:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function T(t,e){var n=t.data.map((function(t){t.list_name;var e=t.book_image,n=void 0===e?"https://bookcart.azurewebsites.net/Upload/Default_image.jpg":e,a=t.title,i=void 0===a?"title not available":a,o=t.author,l=void 0===o?"anonymous":o,c=(t.description,t._id);return'\n          <li class="flex-container-item">\n            <a href=# class="global-link" data-id="'.concat(c,'">\n              <div class="tb-book-card">\n                <img class="tb-book-img img" src="').concat(n,'" alt="').concat(i,'" loading="lazy">\n                <p class="tb-book-title light-theme theme-switch global-p">').concat(i,'</p>\n                <p class="tb-book-author global-p">').concat(l,"</p>\n              </div>\n            </a>\n          </li>")})).join(""),a='<ul class="global-list flex-container">\n            '.concat(n,"\n          </ul>");e.innerHTML=a}(0,o.fetchTopBooks)().then(x),p.addEventListener("click",(function(t){return L.apply(this,arguments)})),i("4WFAO"),i("afu5w")}();
//# sourceMappingURL=index.705b8cb0.js.map
