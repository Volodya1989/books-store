{"mappings":"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","sources":["src/js/firebase-app.js","src/js/render-categories-list.js","src/js/render-categories-books.js","src/js/choose-category.js","src/js/render-category-books.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\nimport Notiflix from 'notiflix';\n\nimport { getAuth, onAuthStateChanged, signOut } from 'firebase/auth';\n\n// import { getDatabase } from 'firebase/database';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDwpmuhImdY7RHC3U0YYZIshSlCJATjNaU',\n  authDomain: 'project-team-10-5792d.firebaseapp.com',\n  projectId: 'project-team-10-5792d',\n  storageBucket: 'project-team-10-5792d.appspot.com',\n  messagingSenderId: '76240638065',\n  appId: '1:76240638065:web:5518f239b638187e380bd0',\n  measurementId: 'G-CCNXH403RH',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst auth = getAuth(app);\n// const logOutEl = document.querySelector('.log-out');\nconst loginSectionEl = document.querySelector('.login-section');\n\nconst user = auth.currentUser;\n// const logInEl = document.querySelector('.login-section');\nconst logInEl = document.querySelector('.user-profile');\n\nconst logOut = e => {\n  signOut(auth)\n    .then(() => {\n      // Sign-out successful.\n      Notiflix.Notify.success(`You are signing out...`);\n      setTimeout(\n        () => (window.location = 'http://localhost:1234/login.html'),\n        3000\n      );\n    })\n    .catch(error => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      Notiflix.Notify.failure(errorMessage);\n    });\n};\n\nconst signUp = () => {\n  signOut(auth)\n    .then(() => {\n      // Sign-out successful.\n\n      Notiflix.Notify.info(`You are redirected to sign up...`);\n      setTimeout(\n        () => (window.location = 'http://localhost:1234/sign-up.html'),\n        3000\n      );\n    })\n    .catch(error => {\n      const errorCode = error.code;\n      const errorMessage = error.message;\n      Notiflix.Notify.failure(errorMessage);\n    });\n};\n\nonAuthStateChanged(auth, user => {\n  if (user !== null) {\n    console.log('User logged in.');\n    logInEl.innerHTML = 'Log Out';\n    logInEl.addEventListener('click', logOut);\n  } else {\n    console.log('No user.');\n    logInEl.innerHTML = 'Sign Up';\n    logInEl.addEventListener('click', signUp);\n  }\n});\n","// Логіка, яка рендерить список категорій\n// Визиваеться одразу в index.js\nimport { fetchAllCategories } from './fetch-func';\nimport { shopping_info } from './shopping-list';\n\nimport { renderTheme } from './switch-theme';\nimport Notiflix from 'notiflix';\n\nconst categoryList = document.querySelector('.category-list');\nconst loadCategory = document.querySelector('.load');\nconst loader = document.querySelector('.loader');\n\nfetchAllCategories()\n  .then(data => {\n    loader.classList.remove('is-hidden');\n\n    const markup = data\n      .map(({ list_name }) => {\n        return `<li class=\"category-list-item global-list light-theme theme-switch\">${list_name}</li>`;\n      })\n      .join('');\n    categoryList.insertAdjacentHTML('beforeend', markup);\n\n    const lis = document.querySelectorAll('.category-list-item');\n\n    lis.forEach(e => {\n      e.addEventListener('click', activatedCategory);\n\n      function activatedCategory() {\n        lis.forEach(e => e.classList.remove('active'));\n        this.classList.add('active');\n      }\n    });\n\n    shopping_info.theme === 'light'\n      ? renderTheme('light')\n      : renderTheme('dark');\n\n    loadCategory.classList.add('unvisible');\n  })\n  .catch(error => {\n    console.log(error);\n  });\n","// рендер всіх секцій категорій з книгами\n// Для цього можна використовувати масив категорій і по циклу визивати renderCategoryBooks(category)\n\nimport { fetchAllCategories } from './fetch-func';\n// import { renderCategoryBooks, renderTopBooks } from './render-category-books';\n\n// одразу рендеремо секцію топ\n// renderTopBooks();\n","// логіка, коли вибираешь категорію\n\nimport { fetchBooksByExactCategory } from './fetch-func';\n","// Рендер однієї секції категорії з книгами\nimport { fetchBooksByExactCategory, fetchTopBooks } from './fetch-func';\n\nexport function renderCategoryBooks() {}\n\nimport { modalWindow } from './modal-window';\nimport { shopping_info } from './shopping-list';\nimport { renderTheme } from './switch-theme';\n// export function renderCategoryBooks() { }\n\nconst categoryList = document.querySelector('.category-list');\nconst bookThumb = document.querySelector('.tb-container');\nconst headingEl = document.querySelector('.heading-primary');\nconst allCtgrEl = document.querySelector('#allctgr');\nconst loader = document.querySelector('.loader');\n  loader.classList.add('is-hidden');\n\ncategoryList.addEventListener('click', renderCategoryBooks);\nsetTimeout(e => {\n  loader.classList.add('is-hidden');\n}, 2500);\nasync function renderCategoryBooks(event) {\n  bookThumb.innerHTML = '';\n  loader.classList.remove('is-hidden');\n  const item = event.target.textContent;\n  const itemFirst = allCtgrEl.textContent;\n\n  if (item === itemFirst) {\n    bookThumb.innerHTML = '';\n    fetchTopBooks().then(renderTopBooks);\n    const headingMarkup = 'Best Sellers Books';\n    const startHeading = headingMarkup\n      .split(' ')\n      .splice(0, headingMarkup.split(' ').length - 1)\n      .join(' ');\n    const endHeading =\n      headingMarkup.split(' ')[headingMarkup.split(' ').length - 1];\n    headingEl.innerHTML = `${startHeading} <span class=\"colored-heading\">${endHeading}</span>`;\n  } else {\n    const startHeading = item\n      .split(' ')\n      .splice(0, item.split(' ').length - 1)\n      .join(' ');\n    const endHeading = item.split(' ')[item.split(' ').length - 1];\n    headingEl.innerHTML = `${startHeading} <span class=\"colored-heading\">${endHeading}</span>`;\n    headingEl.classList.add('ctg-maintitle');\n    bookThumb.classList.add('flex-container');\n\n    const data = await fetchBooksByExactCategory(item);\n    loader.classList.add('is-hidden');\n\n    createMarkupBook(data);\n  }\n}\n\nfunction createMarkupBook({ data }) {\n  bookThumb.innerHTML = '';\n  const markup = data\n    .map(({ list_name,\n          book_image = \"https://bookcart.azurewebsites.net/Upload/Default_image.jpg\",\n          title = \"title not available\",\n          author = \"anonymous\",\n          description,\n          _id, }) => {\n      return `\n          <li class=\"flex-container-item\">\n            <a href=# class=\"global-link\" data-id=\"${_id}\">\n              <div class=\"tb-book-card\">\n                <img class=\"tb-book-img img\" src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\">\n                <p class=\"tb-book-title light-theme theme-switch global-p\">${title}</p>\n                <p class=\"tb-book-author global-p\">${author}</p>\n              </div>\n            </a>\n          </li>`;\n    })\n    .join('');\n\n  bookThumb.innerHTML = markup;\n}\n\n// export function renderTopBooks() { }\n\nconst noBooksEl = document.querySelector('.no-books-card');\n\nfetchTopBooks().then(renderTopBooks);\n\nexport function renderTopBooks({ data }) {\n  if (data.length == 0) {\n    noBooksEl.classList.remove('is-hidden');\n  } else {\n    const markupCategory = data\n      .map(({ list_name, books }) => {\n        const markup = books\n          .map(({ list_name,\n          book_image = \"https://bookcart.azurewebsites.net/Upload/Default_image.jpg\",\n          title = \"title not available\",\n          author = \"anonymous\",\n          description,\n          _id, }) => {\n            return `\n          <li class=\"flex-container-item\">\n            <a href=# class=\"global-link\" data-id=\"${_id}\">\n              <div class=\"tb-book-card\">\n                <img class=\"tb-book-img img\" src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\">\n                <p class=\"tb-book-title light-theme theme-switch global-p\">${title}</p>\n                <p class=\"tb-book-author global-p\">${author}</p>\n              </div>\n            </a>\n          </li>\n          `;\n          })\n          .join('');\n        return `\n      <li class=\"tb-category-container\">\n        <h2 class='tb-category global-title'>${list_name}</h2>\n        <div class='tb-books-container'>\n          <ul class=\"global-list flex-container hidden-books\">\n            ${markup}\n          </ul>\n        </div>\n        <button class=\"tb-button global-button light-theme theme-switch\">See more</button>\n      </li>\n      `;\n      })\n      .join('');\n    loader.classList.add('is-hidden');\n\n    bookThumb.insertAdjacentHTML('beforeend', markupCategory);\n    shopping_info.theme === 'light'\n      ? renderTheme('light')\n      : renderTheme('dark');\n    modalWindow();\n  }\n}\n\nbookThumb.addEventListener('click', onSeeMoreClick);\n\nasync function onSeeMoreClick(event) {\n  if (event.target.matches('button')) {\n    let bookTitle = event.target.closest('.tb-category-container').firstChild\n      .nextSibling.textContent;\n    let categoryContainer = event.target.closest('.tb-category-container')\n      .firstChild.nextSibling.nextSibling.nextSibling;\n    const data = await fetchBooksByExactCategory(bookTitle);\n    createMarkupSeeMore(data, categoryContainer);\n    event.target.classList.add('is-hidden');\n    loader.classList.add('is-hidden');\n  }\n}\n\nfunction createMarkupSeeMore({ data }, categoryContainer) {\n  const markup = data\n    .map(({ list_name,\n          book_image = \"https://bookcart.azurewebsites.net/Upload/Default_image.jpg\",\n          title = \"title not available\",\n          author = \"anonymous\",\n          description,\n          _id, }) => {\n      return `\n          <li class=\"flex-container-item\">\n            <a href=# class=\"global-link\" data-id=\"${_id}\">\n              <div class=\"tb-book-card\">\n                <img class=\"tb-book-img img\" src=\"${book_image}\" alt=\"${title}\" loading=\"lazy\">\n                <p class=\"tb-book-title light-theme theme-switch global-p\">${title}</p>\n                <p class=\"tb-book-author global-p\">${author}</p>\n              </div>\n            </a>\n          </li>`;\n    })\n    .join('');\n  const seeMoreMarkup = `<ul class=\"global-list flex-container\">\n            ${markup}\n          </ul>`;\n  categoryContainer.innerHTML = seeMoreMarkup;\n}\n"],"names":["$fkNhc","parcelRequire","$47ff19280eb617bc$var$app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","$47ff19280eb617bc$var$auth","$gQOBw","getAuth","$47ff19280eb617bc$var$logInEl","document","querySelector","currentUser","$47ff19280eb617bc$var$logOut","e","signOut","then","$parcel$interopDefault","$6JpON","Notify","success","setTimeout","window","location","catch","error","code","errorMessage","message","failure","$47ff19280eb617bc$var$signUp","info","onAuthStateChanged","user1","console","log","innerHTML","addEventListener","$eUV6u","$c63f1ae5d013a326$var$categoryList","$c63f1ae5d013a326$var$loadCategory","$c63f1ae5d013a326$var$loader","fetchAllCategories","data","classList","remove","markup","map","param","list_name","concat","join","insertAdjacentHTML","lis","querySelectorAll","forEach","e1","this","add","$4WFAO","shopping_info","theme","$b3EoS","renderTheme","$bpxeT","$d8a5ac29b53e8bc6$var$categoryList","$d8a5ac29b53e8bc6$var$bookThumb","$d8a5ac29b53e8bc6$var$headingEl","$d8a5ac29b53e8bc6$var$allCtgrEl","$d8a5ac29b53e8bc6$var$loader","$d8a5ac29b53e8bc6$var$_renderCategoryBooks","$2TvXO","mark","_callee","event","item","itemFirst","headingMarkup","startHeading","endHeading","startHeading1","endHeading1","target","textContent","fetchTopBooks","$d8a5ac29b53e8bc6$export$897fb17cde4e950b","split","splice","length","fetchBooksByExactCategory","_ctx","sent","$d8a5ac29b53e8bc6$var$createMarkupBook","apply","arguments","param1","_book_image","book_image","_title","title","_author","author","_id","description","$d8a5ac29b53e8bc6$var$noBooksEl","param2","markupCategory","param3","books","$6VMVE","modalWindow","$d8a5ac29b53e8bc6$var$_onSeeMoreClick","bookTitle","categoryContainer","matches","closest","firstChild","nextSibling","$d8a5ac29b53e8bc6$var$createMarkupSeeMore","param4","seeMoreMarkup"],"version":3,"file":"index.1767de9a.js.map"}